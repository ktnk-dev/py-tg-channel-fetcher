# О проекте
- Python скрипт для получения постов из открытого телеграм канала. Скрипт способен получать последние 20 постов, или определенный пост по его id.
- Зависимости: `requests`, `bs4`, `lxml`
# Какую информацию получает скрипт с канала
Скрипт возвращает `dict` обьект
```py
{  
  'status': True,
  'name': <class 'str'>, # название канала
  'posts': <class 'list'> # список постов
}
```
Иногда бывают ошибки, например введен id поста, которого не существует, или канал вообще не найден. Тогда будет выведена другая информация
```py
{
  'status': None,
  'text': <class 'str'> # информация об ошибке
}
```

В `posts` лежит список постов, там может лежать как 1 пост, так и последние 20
```py
'posts': [
  {
    'status': True, 
    'name': <class 'str'>, # снова название канала
    'id': <class 'int'>, # ID поста
    'url': <class 'str'>, # ссылка на пост
    'text': <class 'str'>, # текст в этом посте, если текста нет, то возвращает None
    'photos': <class 'list'>, # если в посте прикреплены фотографии, то здесь будет список из ссылок на эти фотографии. если фотографий нет, то этого элемента не будет существовать
    'datetime': <class 'str'> # строка, в которой написана дата и время публикации. пользователь сам может конвертировать его в <class 'datetime.datetime'> при необходимости.
  },
  ...
]
```
# Как этим пользоваться 
1. Скачайте этот скрипт с этого репозитория и импортируйте в свой проект (скоро выложу на pypi) 
2. Пока скрипт содержит лишь один метод: `get()`, который первым аргументом требует идентификатор (тот, что после @), вторым id поста (опционально).
Например:
```py
import pytgcf

channel = pytgcf.get('durov')
channel['name'] # -> Durov's Channel
post = channel['posts'][-1] # самый актуальный пост в канале
post['text'] # текст этого поста
```

Так же мы можем получить определенный пост, используя его id
```py
import pytgcf

channel = pytgcf.get('durov', 200) # будет получен пост под id 200
len(channel['posts']) # -> 1; в данном случае получен лишь 1 пост
post = channel['posts'][0]
post['text'] # текст с поздравлением с хелоуином
```

Так же мы можем получить один из 20 последних постов на канале, для этого нужно вписать отрицательное число в параметр id (от -1 до -20)
```py
import pytgcf

channel = pytgcf.get('durov', -1) # будет получен самый актуальный (последний) пост канала

channel = pytgcf.get('durov', -2) # будет получен предпоследний пост с канала

```

# TODO
- Аватарка канала
- Количество подписчиков
- Количество просмотров на посте
- Список реакций (если это возможно)
- Комментарии (если это возможно)
- В далеком будующем сделать на основе этого REST API

# О получаемых данных
• Анонимный просмотр канала с браузера не позволяет получить достаточное колчество информаций. Например нельзя просматривать и загружать видео, голосовые сообщения, видео сообщения, скачивать файлы. Можно лишь смотреть фото. Увы, это особенность Telegram, и мой скрипт физически не сможет получить доступ к описаноому выше. 
