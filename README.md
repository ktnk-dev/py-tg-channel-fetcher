# О проекте 
- Python скрипт для получения постов из открытого телеграм канала. Скрипт способен получать последние 20 постов, или определенный пост по его id.
- Зависимости: `requests`, `bs4`, `lxml`
- Версия: `release`/`0.2`
# Какую информацию получает скрипт с канала
Скрипт возвращает `class`
```py
self.status = True # статус
self.url = <class 'str'> # ссылка на канал
self.name = <class 'str'> # название канала
self.description = <class 'str'> # описание канала
self.subscribers = <class 'int'> # кол-во подписчиков
self.picture = <class 'str'> # ссылка на аватарку канала
self.latests = <class 'list'> # последние 20 постов в канале
self.posts(id) # функция для получения определенных постов
```
Иногда бывают ошибки. Тогда будет выведена другая информация
```py
self.status = None,
sels.text = <class 'str'> # информация об ошибке

```

В `latests` (или при вызове функции `self.posts(id)`) лежит список постов, там может лежать как 1 пост, так и последние 20
```py
[
  {
    'status': True, # принимает None при ошибке
    'text': <class 'str'>, # текст в этом посте, если текста нет, то возвращает None. Если status == None, то здесь текст ошибки
    'name': <class 'str'>, # снова название канала
    'id': <class 'int'>, # ID поста
    'url': <class 'str'>, # ссылка на пост
    'photos': <class 'list'>, # если в посте прикреплены фотографии, то здесь будет список из ссылок на эти фотографии. если фотографий нет, то этого элемента не будет существовать
    'datetime': <class 'str'> # строка, в которой написана дата и время публикации. пользователь сам может конвертировать его в <class 'datetime.datetime'> при необходимости.
  },
  ...
]
```
# Как этим пользоваться 
1. Скачайте этот скрипт с этого репозитория и импортируйте в свой проект (скоро выложу на pypi) 
2. Используйте пока единственный класс в скрипте `get(name)` и наслаждайтесь 
Например:
```py
import pytgcf
channel = pytgcf.get('durov')

channel.name # -> Durov's Channel
channel.description # -> Thoughts from the Product Manager / CEO / Founder of Telegram.
```

Так же мы можем получить определенный пост, используя его id
```py
import pytgcf
channel = pytgcf.get('durov')

post = channel.posts(200) # будет получен пост под id 200
len(post) # -> 1; в данном случае получен лишь 1 пост
post[0]['text'] # текст с поздравлением с хелоуином
```

Так же мы можем получить один из 20 последних постов на канале, для этого нужно вписать отрицательное число в параметр id (от -1 до -20)
```py
import pytgcf
channel = pytgcf.get('durov')

channel.posts(-1) # будет получен самый актуальный (последний) пост канала
# эквивалент: channel.latests[-1]

channel.posts(-2) # будет получен предпоследний пост с канала
# эквивалент: channel.latests[-2]


```

# TODO
- ~Аватарка канала~ (готово v0.2)
- ~Количество подписчиков~ (готово v0.2)
- ~Количество просмотров на посте~ (готово v0.2)
- ~Список реакций~ (невозможно)
- ~Комментарии~ (невозможно)
- В далеком будующем сделать на основе этого REST API

# О получаемых данных
• Анонимный просмотр канала с браузера не позволяет получить достаточное колчество информаций. Например нельзя просматривать и загружать видео, частично голосовые сообщения, частично видео сообщения, и скачивать файлы. Можно лишь смотреть фото. Увы, это особенность Telegram, и мой скрипт физически не сможет получить доступ к описаному выше. 
